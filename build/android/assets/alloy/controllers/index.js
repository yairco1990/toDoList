function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e,t,i){var n=Ti.UI.createTableViewRow({height:"80"}),s=Ti.UI.createLabel({right:"80",left:"85",text:e,height:Titanium.UI.SIZE,width:Titanium.UI.SIZE,color:"black",layout:"vertical",font:{fontSize:20}}),o=Ti.UI.createButton({title:"Done",top:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"green",backgroundImage:"none",color:"#fff",mylabel:s,font:{fontSize:23,fontWeight:"bold"}}),a=Ti.UI.createButton({id:"delrow",myrow:n,mylabel:s,title:"Delete",bottom:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"red",backgroundImage:"none",color:"#fff",font:{fontSize:19,fontWeight:"bold"}}),l=t,h=Ti.UI.createView({backgroundImage:l,width:"70",height:"70",left:"5"});if(n.add(o),n.add(a),n.add(h),n.add(s),r.tableView.appendRow(n),"true"==i){n.backgroundColor="#abce12";var d=Titanium.UI.createView({left:"85",width:s.getSize().width,height:1,backgroundColor:s.color?s.color:"black"});n.add(d)}else o.addEventListener("click",function(e){n.backgroundColor="#abce12";var t=Titanium.UI.createView({left:"85",width:s.getSize().width,height:1,backgroundColor:s.color?s.color:"black"});n.add(t);var i=Titanium.Database.open("version8");i.execute('UPDATE Tasks SET done = "true" WHERE task = (?)',e.source.mylabel.getText()),i.close()})}function t(){0==l&&(r.textField.value="",l=!0)}function i(e){"dishes"==e.source.id?("/Vdishes.png"!=e.source.image&&(e.source.image="/Vdishes.png"),"/laundery.png"!=r.laundery.image&&(r.laundery.image="/laundery.png")):("/Vlaundery.png"!=e.source.image&&(e.source.image="/Vlaundery.png"),"/dishes.png"!=r.dishes.image&&(r.dishes.image="/dishes.png"))}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var r=this,n={},s={};r.__views.win=Ti.UI.createWindow({backgroundColor:"white",layout:"vertical",id:"win"}),r.__views.win&&r.addTopLevelView(r.__views.win),r.__views.__alloyId0=Ti.UI.createView({height:"60",backgroundColor:"#848484",id:"__alloyId0"}),r.__views.win.add(r.__views.__alloyId0),r.__views.textField=Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,top:"3",left:"10",right:"100",value:"Enter your task",textAlign:"left",height:"55",font:{fontSize:27,fontWeight:"bold"},id:"textField"}),r.__views.__alloyId0.add(r.__views.textField),t?r.__views.textField.addEventListener("click",t):s["$.__views.textField!click!cleanText"]=!0,r.__views.addButton=Ti.UI.createButton({right:"10",top:"3",height:"55",width:"80",title:"Add!",id:"addButton"}),r.__views.__alloyId0.add(r.__views.addButton),r.__views.ChooseImage=Ti.UI.createView({backgroundColor:"#848484",height:"75",id:"ChooseImage"}),r.__views.win.add(r.__views.ChooseImage),r.__views.dishes=Ti.UI.createImageView({image:"/dishes.png",width:"70",height:"70",right:"110",top:"3",id:"dishes"}),r.__views.ChooseImage.add(r.__views.dishes),i?r.__views.dishes.addEventListener("click",i):s["$.__views.dishes!click!doClick"]=!0,r.__views.laundery=Ti.UI.createImageView({image:"/laundery.png",width:"70",height:"70",right:"200",top:"3",id:"laundery"}),r.__views.ChooseImage.add(r.__views.laundery),i?r.__views.laundery.addEventListener("click",i):s["$.__views.laundery!click!doClick"]=!0,r.__views.deleteAllButton=Ti.UI.createButton({height:"50",width:Titanium.UI.FILL,title:"Click to delete all",id:"deleteAllButton"}),r.__views.win.add(r.__views.deleteAllButton),r.__views.__alloyId1=Ti.UI.createView({height:"2",backgroundColor:"#abce12",top:"2",id:"__alloyId1"}),r.__views.win.add(r.__views.__alloyId1),r.__views.tableView=Ti.UI.createTableView({top:"5",id:"tableView"}),r.__views.win.add(r.__views.tableView),r.__views.__alloyId2=Ti.UI.createView({height:"5",backgroundColor:"#848484",id:"__alloyId2"}),r.__views.win.add(r.__views.__alloyId2),n.destroy=function(){},_.extend(r,r.__views),r.win.open();var o=Titanium.Database.install("dbRowData.db","version8");o.execute("CREATE TABLE IF NOT EXISTS Tasks(task TEXT, image TEXT, done TEXT);");for(var a=o.execute("SELECT * FROM Tasks");a.isValidRow();)e(a.fieldByName("task"),a.fieldByName("image"),a.fieldByName("done")),a.next();var l=!1,h=function(){var e=Ti.UI.createTableViewRow({height:"80"}),t=Ti.UI.createLabel({right:"80",left:"85",text:r.textField.getValue(),height:Titanium.UI.SIZE,width:Titanium.UI.SIZE,color:"black",layout:"vertical",font:{fontSize:20}}),i=Ti.UI.createButton({title:"Done",top:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"green",backgroundImage:"none",color:"#fff",mylabel:t,font:{fontSize:23,fontWeight:"bold"}}),n=Ti.UI.createButton({id:"delrow",myrow:e,mylabel:t,title:"Delete",bottom:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"red",backgroundImage:"none",color:"#fff",font:{fontSize:19,fontWeight:"bold"}}),s="/appicon.png";"/Vdishes.png"==r.dishes.image?s="/dishes.png":"/Vlaundery.png"==r.laundery.image&&(s="/laundery.png");var o=Ti.UI.createView({backgroundImage:s,width:"70",height:"70",left:"5"});e.add(i),e.add(n),e.add(o),e.add(t),r.tableView.appendRow(e),i.addEventListener("click",function(i){e.backgroundColor="#abce12";var r=Titanium.UI.createView({left:"85",width:t.getSize().width,height:1,backgroundColor:t.color?t.color:"black"});e.add(r);var n=Titanium.Database.open("version8");n.execute('UPDATE Tasks SET done = "true" WHERE task = (?)',i.source.mylabel.getText()),n.close()});var a=Titanium.Database.open("version8");a.execute("INSERT INTO Tasks (task, image) VALUES (?,?)",r.textField.getValue(),s),a.close(),r.textField.value=""};r.tableView.addEventListener("click",function(e){if("delrow"==e.source.id){r.tableView.deleteRow(e.index);var t=Titanium.Database.open("version8");t.execute("DELETE FROM Tasks WHERE task = (?)",e.source.mylabel.getText()),t.close()}}),r.addButton.addEventListener("click",h),r.deleteAllButton.addEventListener("click",function(){var e=[];r.tableView.data=e;var t=Titanium.Database.open("version8");t.execute("DELETE FROM Tasks"),t.close()}),s["$.__views.textField!click!cleanText"]&&r.__views.textField.addEventListener("click",t),s["$.__views.dishes!click!doClick"]&&r.__views.dishes.addEventListener("click",i),s["$.__views.laundery!click!doClick"]&&r.__views.laundery.addEventListener("click",i),_.extend(r,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;