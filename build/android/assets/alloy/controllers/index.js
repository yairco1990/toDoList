function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e){var t=Ti.UI.createTableViewRow({height:"80"}),i=Ti.UI.createLabel({right:"80",left:"85",text:e.task,height:Titanium.UI.SIZE,width:Titanium.UI.SIZE,color:"black",layout:"vertical",font:{fontSize:20}}),n=Ti.UI.createButton({title:"Done",top:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"green",backgroundImage:"none",color:"#fff",mylabel:i,font:{fontSize:23,fontWeight:"bold"}}),s=Ti.UI.createButton({id:"delrow",myrow:t,mylabel:i,title:"Delete",bottom:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"red",backgroundImage:"none",color:"#fff",font:{fontSize:19,fontWeight:"bold"}}),o=e.image,a=Ti.UI.createView({backgroundImage:o,width:"70",height:"70",left:"5"});if(t.add(n),t.add(s),t.add(a),t.add(i),r.tableView.appendRow(t),"true"==e.done){t.backgroundColor="#abce12";var l=Titanium.UI.createView({left:"85",width:i.getSize().width,height:1,backgroundColor:i.color?i.color:"black"});t.add(l)}else n.addEventListener("click",function(){t.backgroundColor="#abce12";var e=Titanium.UI.createView({left:"85",width:i.getSize().width,height:1,backgroundColor:i.color?i.color:"black"});t.add(e)})}function t(){0==d&&(r.textField.value="",d=!0)}function i(e){"dishes"==e.source.id?("/Vdishes.png"!=e.source.image&&(e.source.image="/Vdishes.png"),"/laundery.png"!=r.laundery.image&&(r.laundery.image="/laundery.png")):("/Vlaundery.png"!=e.source.image&&(e.source.image="/Vlaundery.png"),"/dishes.png"!=r.dishes.image&&(r.dishes.image="/dishes.png"))}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var r=this,n={},s={};r.__views.win=Ti.UI.createWindow({id:"win"}),r.__views.win&&r.addTopLevelView(r.__views.win),r.__views.drawermenu=Alloy.createWidget("com.alcoapps.drawermenu","widget",{id:"drawermenu",__parentSymbol:r.__views.win}),r.__views.drawermenu.setParent(r.__views.win),r.__views.__alloyId0=Ti.UI.createView({backgroundColor:"#FF0000",height:"80",top:"0",id:"__alloyId0"}),r.__views.win.add(r.__views.__alloyId0),r.__views.main=Ti.UI.createView({backgroundColor:"white",layout:"vertical",id:"main",top:"80"}),r.__views.win.add(r.__views.main),r.__views.__alloyId1=Ti.UI.createView({height:"60",backgroundColor:"#848484",id:"__alloyId1"}),r.__views.main.add(r.__views.__alloyId1),r.__views.textField=Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,top:"3",left:"10",right:"100",value:"Enter your task",textAlign:"left",height:"55",font:{fontSize:27,fontWeight:"bold"},id:"textField"}),r.__views.__alloyId1.add(r.__views.textField),t?r.__views.textField.addEventListener("click",t):s["$.__views.textField!click!cleanText"]=!0,r.__views.addButton=Ti.UI.createButton({right:"10",top:"3",height:"55",width:"80",title:"Add!",id:"addButton"}),r.__views.__alloyId1.add(r.__views.addButton),r.__views.ChooseImage=Ti.UI.createView({backgroundColor:"#848484",height:"75",id:"ChooseImage"}),r.__views.main.add(r.__views.ChooseImage),r.__views.dishes=Ti.UI.createImageView({image:"/dishes.png",width:"70",height:"70",right:"110",top:"3",id:"dishes"}),r.__views.ChooseImage.add(r.__views.dishes),i?r.__views.dishes.addEventListener("click",i):s["$.__views.dishes!click!doClick"]=!0,r.__views.laundery=Ti.UI.createImageView({image:"/laundery.png",width:"70",height:"70",right:"200",top:"3",id:"laundery"}),r.__views.ChooseImage.add(r.__views.laundery),i?r.__views.laundery.addEventListener("click",i):s["$.__views.laundery!click!doClick"]=!0,r.__views.deleteAllButton=Ti.UI.createButton({height:"50",width:Titanium.UI.FILL,title:"Click to delete all",id:"deleteAllButton"}),r.__views.main.add(r.__views.deleteAllButton),r.__views.__alloyId2=Ti.UI.createView({height:"2",backgroundColor:"#abce12",top:"2",id:"__alloyId2"}),r.__views.main.add(r.__views.__alloyId2),r.__views.tableView=Ti.UI.createTableView({top:"5",id:"tableView"}),r.__views.main.add(r.__views.tableView),r.__views.__alloyId3=Ti.UI.createView({height:"5",backgroundColor:"#848484",id:"__alloyId3"}),r.__views.main.add(r.__views.__alloyId3),n.destroy=function(){},_.extend(r,r.__views),r.win.open();var o=r.main,a=Alloy.createController("menu").getView();r.drawermenu.init({menuview:a,mainview:o,duration:200,parent:r.win});var l=Titanium.Network.createHTTPClient(),h="https://agile-eyrie-7613.herokuapp.com/services/todo";l.open("GET",h),l.onload=function(){Ti.API.info("Success?"+this.status),Ti.API.info(this.responseText);for(var t=JSON.parse(this.responseText),i=0;i<t.length;i++)e(t[i])},l.send(),l.abort();var d=!1,c=function(){var e=Ti.UI.createTableViewRow({height:"80"}),t=Ti.UI.createLabel({right:"80",left:"85",text:r.textField.getValue(),height:Titanium.UI.SIZE,width:Titanium.UI.SIZE,color:"black",layout:"vertical",font:{fontSize:20}}),i=Ti.UI.createButton({title:"Done",top:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"green",backgroundImage:"none",color:"#fff",mylabel:t,font:{fontSize:23,fontWeight:"bold"}}),n=Ti.UI.createButton({id:"delrow",myrow:e,mylabel:t,title:"Delete",bottom:8,right:10,width:70,height:30,borderColor:"#666",borderWidth:2,borderRadius:3,backgroundColor:"red",backgroundImage:"none",color:"#fff",font:{fontSize:19,fontWeight:"bold"}}),s="/appicon.png";"/Vdishes.png"==r.dishes.image?s="/dishes.png":"/Vlaundery.png"==r.laundery.image&&(s="/laundery.png");var o=Ti.UI.createView({backgroundImage:s,width:"70",height:"70",left:"5"});e.add(i),e.add(n),e.add(o),e.add(t),r.tableView.appendRow(e),i.addEventListener("click",function(){e.backgroundColor="#abce12";var i=Titanium.UI.createView({left:"85",width:t.getSize().width,height:1,backgroundColor:t.color?t.color:"black"});e.add(i);var n=Titanium.Network.createHTTPClient();h="https://agile-eyrie-7613.herokuapp.com/services/doneUpdate",n.open("POST",h),n.onload=function(){Ti.API.info("Success?"+this.status)},n.send({task:r.textField.getValue()}),n.abort()});var a=Titanium.Network.createHTTPClient();h="https://agile-eyrie-7613.herokuapp.com/services/todo",a.open("POST",h),a.onload=function(){Ti.API.info("Success?"+this.status)},a.send({id:null,done:!1,task:r.textField.getValue(),image:s}),a.abort(),r.textField.value=""};r.tableView.addEventListener("click",function(e){if("delrow"==e.source.id){r.tableView.deleteRow(e.index);var t=Titanium.Network.createHTTPClient();h="https://agile-eyrie-7613.herokuapp.com/services/delete",t.open("POST",h),t.onload=function(){Ti.API.info("Success?"+this.status)},t.send({task:e.source.mylabel.getText()}),t.abort()}}),r.addButton.addEventListener("click",c),r.deleteAllButton.addEventListener("click",function(){var e=[];r.tableView.data=e}),s["$.__views.textField!click!cleanText"]&&r.__views.textField.addEventListener("click",t),s["$.__views.dishes!click!doClick"]&&r.__views.dishes.addEventListener("click",i),s["$.__views.laundery!click!doClick"]&&r.__views.laundery.addEventListener("click",i),_.extend(r,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;